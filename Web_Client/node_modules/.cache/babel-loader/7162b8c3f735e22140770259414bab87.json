{"ast":null,"code":"var _jsxFileName = \"/home/rlin/delivery/TEK3/B-YEP-500-PAR-5-1-area-edouard.brosse/Web_Client/src/components/Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useContext, useState } from \"react\";\nimport { BoldLink, BoxContainer, Input, MutedLink, SubmitButton } from \"./Common\";\nimport { LogMarginer } from \"./LogMarginer\";\nimport { AccountContext } from \"./AccountContext\";\nimport axios from 'axios';\nimport emailjs from '@emailjs/browser';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Register(props) {\n  _s();\n\n  const form = useRef();\n  const {\n    switchToSignin\n  } = useContext(AccountContext);\n  const [fname, setFname] = useState();\n  const [mail, setMail] = useState();\n  const [pwd, setPwd] = useState();\n  const [confirmPwd, setConfirmPwd] = useState();\n\n  const handleFname = text => {\n    setFname(text);\n  };\n\n  const handleMail = text => {\n    setMail(text);\n  };\n\n  const handlePwd = text => {\n    setPwd(text);\n  };\n\n  const handleConfirmPwd = text => {\n    setConfirmPwd(text);\n  };\n\n  const sendEmail = e => {\n    e.preventDefault();\n    emailjs.sendForm('service_o9ilktd', 'template_adp47hm', e.target, 'VFhVeSlGCr2-uS3L1').then(result => {\n      console.log(result.text);\n    }, error => {\n      console.log(error.text);\n    });\n  };\n\n  const regAcc = () => {\n    axios.post(\"http://localhost:8080/user/register\", {\n      email: mail,\n      password: pwd,\n      name: fname\n    }).then(response => {\n      if (response.data.message === 'registered') {\n        switchToSignin();\n      }\n\n      if (response.data.message === 'user already exists') {\n        console.log(\"user already exists\");\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(BoxContainer, {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      ref: form,\n      onSubmit: sendEmail,\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        placeholder: \"Full Name\",\n        value: fname,\n        onChange: e => handleFname(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"email\",\n        placeholder: \"Email\",\n        name: \"user_email\",\n        value: mail,\n        onChange: e => handleMail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"password\",\n        placeholder: \"Password\",\n        name: \"password\",\n        value: pwd,\n        onChange: e => handlePwd(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"password\",\n        placeholder: \"Confirm Password\",\n        value: confirmPwd,\n        onChange: e => handleConfirmPwd(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(LogMarginer, {\n        direction: \"vertical\",\n        margin: 40\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n        type: \"submit\",\n        onClick: regAcc,\n        children: \"Signup\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LogMarginer, {\n      direction: \"vertical\",\n      margin: \"1em\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MutedLink, {\n      href: \"#\",\n      children: [\"Already have an account?\", /*#__PURE__*/_jsxDEV(BoldLink, {\n        href: \"#\",\n        onClick: switchToSignin,\n        children: \"Signin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Register, \"k8SgkRLbQiNs3Q7Sia/yGTDnLVU=\");\n\n_c = Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["/home/rlin/delivery/TEK3/B-YEP-500-PAR-5-1-area-edouard.brosse/Web_Client/src/components/Register.js"],"names":["React","useRef","useContext","useState","BoldLink","BoxContainer","Input","MutedLink","SubmitButton","LogMarginer","AccountContext","axios","emailjs","Register","props","form","switchToSignin","fname","setFname","mail","setMail","pwd","setPwd","confirmPwd","setConfirmPwd","handleFname","text","handleMail","handlePwd","handleConfirmPwd","sendEmail","e","preventDefault","sendForm","target","then","result","console","log","error","regAcc","post","email","password","name","response","data","message","catch","err","value"],"mappings":"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","sourcesContent":["import React, { useRef, useContext, useState } from \"react\";\nimport {\n  BoldLink,\n  BoxContainer,\n  Input,\n  MutedLink,\n  SubmitButton,\n} from \"./Common\";\nimport { LogMarginer } from \"./LogMarginer\";\nimport { AccountContext } from \"./AccountContext\";\nimport axios from 'axios';\nimport emailjs from '@emailjs/browser';\n\nexport function Register(props) {\n  const form = useRef();\n  const { switchToSignin } = useContext(AccountContext);\n  const [fname, setFname] = useState();\n  const [mail, setMail] = useState();\n  const [pwd, setPwd] = useState();\n  const [confirmPwd, setConfirmPwd] = useState();\n\n  const handleFname = (text) => {\n    setFname(text);\n  }\n\n  const handleMail = (text) => {\n    setMail(text);\n  }\n\n  const handlePwd = (text) => {\n    setPwd(text);\n  }\n\n  const handleConfirmPwd = (text) => {\n    setConfirmPwd(text);\n  }\n\n  const sendEmail = (e) => {\n    e.preventDefault();\n\n    emailjs.sendForm('service_o9ilktd', 'template_adp47hm', e.target, 'VFhVeSlGCr2-uS3L1')\n      .then((result) => {\n          console.log(result.text);\n      }, (error) => {\n          console.log(error.text);\n      });\n  };\n\n  const regAcc = () => {\n    axios.post(\"http://localhost:8080/user/register\", {email: mail, password: pwd, name:fname})\n      .then((response) => {\n        if (response.data.message === 'registered') {\n          switchToSignin();\n        }\n        if (response.data.message === 'user already exists') {\n          console.log(\"user already exists\")\n        }\n      })\n      .catch(err => {\n        console.log(err)\n      })\n    }\n\n  return (\n    <BoxContainer>\n      <form ref={form} onSubmit={sendEmail}>\n          <Input type=\"text\" placeholder=\"Full Name\" value={fname} onChange={e => handleFname(e.target.value)}/>\n          <Input type=\"email\" placeholder=\"Email\" name=\"user_email\" value={mail} onChange={e => handleMail(e.target.value)}/>\n          <Input type=\"password\" placeholder=\"Password\" name=\"password\" value={pwd} onChange={e => handlePwd(e.target.value)}/>\n          <Input type=\"password\" placeholder=\"Confirm Password\" value={confirmPwd} onChange={e => handleConfirmPwd(e.target.value)}/>\n      <LogMarginer direction=\"vertical\" margin={40} />\n      <SubmitButton type=\"submit\" onClick={regAcc}>Signup</SubmitButton>\n      </form>\n      <LogMarginer direction=\"vertical\" margin=\"1em\" />\n      <MutedLink href=\"#\">\n        Already have an account?\n        <BoldLink href=\"#\" onClick={switchToSignin}>\n          Signin\n        </BoldLink>\n      </MutedLink>\n    </BoxContainer>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}