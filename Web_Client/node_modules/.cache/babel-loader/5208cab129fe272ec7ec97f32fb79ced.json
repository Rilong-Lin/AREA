{"ast":null,"code":"var _jsxFileName = \"/home/rlin/delivery/TEK3/B-YEP-500-PAR-5-1-area-edouard.brosse/Web_Client/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from \"react\";\nimport { BoldLink, BoxContainer, FormContainer, Input, MutedLink, SubmitButton } from \"./Common\";\nimport { LogMarginer } from \"./LogMarginer\";\nimport { AccountContext } from \"./AccountContext\";\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Login(props) {\n  _s();\n\n  const {\n    switchToSignup\n  } = useContext(AccountContext);\n  const [mail, setMail] = useState();\n  const [pwd, setPwd] = useState();\n  const navigate = useNavigate();\n\n  const handleMail = text => {\n    setMail(text);\n  };\n\n  const handlePwd = text => {\n    setPwd(text);\n  };\n\n  const logAcc = () => {\n    axios.post(\"http://localhost:8080/user/login\", {\n      email: mail,\n      password: pwd\n    }).then(response => {\n      if (response.data.message === 'authentificated') {\n        navigate(\"/Home\", {\n          state: {\n            spotyfy: \"\",\n            spotifyData: false,\n            user: mail\n          }\n        });\n      }\n\n      if (response.data.message === 'incorrect pwd') {\n        console.log(\"incorrect pwd\");\n      }\n\n      if (response.data.message === 'no user with that email address') {\n        console.log(\"incorrect mail\");\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(BoxContainer, {\n    children: [/*#__PURE__*/_jsxDEV(FormContainer, {\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        type: \"email\",\n        placeholder: \"Email\",\n        value: mail,\n        onChange: e => handleMail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"pwd\",\n        placeholder: \"Password\",\n        value: pwd,\n        onChange: e => handlePwd(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LogMarginer, {\n      direction: \"vertical\",\n      margin: 10\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MutedLink, {\n      href: \"#\",\n      children: \"Forget your password?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LogMarginer, {\n      direction: \"vertical\",\n      margin: \"1.6em\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n      type: \"submit\",\n      onClick: logAcc,\n      children: \"Signin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LogMarginer, {\n      direction: \"vertical\",\n      margin: \"1em\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MutedLink, {\n      href: \"#\",\n      children: [\"Don't have an account?\", \" \", /*#__PURE__*/_jsxDEV(BoldLink, {\n        href: \"#\",\n        onClick: switchToSignup,\n        children: \"Signup\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"7JcaPa/n1NiSs6+94LTg9CcCKjw=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/rlin/delivery/TEK3/B-YEP-500-PAR-5-1-area-edouard.brosse/Web_Client/src/components/Login.js"],"names":["React","useContext","useState","BoldLink","BoxContainer","FormContainer","Input","MutedLink","SubmitButton","LogMarginer","AccountContext","axios","useNavigate","Login","props","switchToSignup","mail","setMail","pwd","setPwd","navigate","handleMail","text","handlePwd","logAcc","post","email","password","then","response","data","message","state","spotyfy","spotifyData","user","console","log","catch","err","e","target","value"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport {\n  BoldLink,\n  BoxContainer,\n  FormContainer,\n  Input,\n  MutedLink,\n  SubmitButton,\n} from \"./Common\";\nimport { LogMarginer } from \"./LogMarginer\";\nimport { AccountContext } from \"./AccountContext\";\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nexport function Login(props) {\n  const { switchToSignup } = useContext(AccountContext);\n  const [mail, setMail] = useState();\n  const [pwd, setPwd] = useState();\n  const navigate = useNavigate();\n\n  const handleMail = (text) => {\n    setMail(text);\n  }\n\n  const handlePwd = (text) => {\n    setPwd(text);\n  }\n\n  const logAcc = () => {\n    axios.post(\"http://localhost:8080/user/login\", {email: mail, password: pwd})\n    .then(response => {\n      if (response.data.message === 'authentificated') {\n        navigate(\"/Home\", {state:{spotyfy: \"\", spotifyData: false, user: mail}})\n      }\n      if (response.data.message === 'incorrect pwd') {\n        console.log(\"incorrect pwd\")\n      }\n      if (response.data.message === 'no user with that email address') {\n        console.log(\"incorrect mail\")\n      }\n    })\n    .catch(err => {\n      console.log(err)\n    })\n  }\n\n  return (\n    <BoxContainer>\n      <FormContainer>\n        <Input type=\"email\" placeholder=\"Email\" value={mail} onChange={e => handleMail(e.target.value)} />\n        <Input type=\"pwd\" placeholder=\"Password\" value={pwd} onChange={e => handlePwd(e.target.value)} />\n      </FormContainer>\n      <LogMarginer direction=\"vertical\" margin={10} />\n      <MutedLink href=\"#\">Forget your password?</MutedLink>\n      <LogMarginer direction=\"vertical\" margin=\"1.6em\" />\n      <SubmitButton type=\"submit\" onClick={logAcc}>Signin</SubmitButton>\n      <LogMarginer direction=\"vertical\" margin=\"1em\" />\n      <MutedLink href=\"#\">\n        Don't have an account?{\" \"}\n        <BoldLink href=\"#\" onClick={switchToSignup}>\n          Signup\n        </BoldLink>\n      </MutedLink>\n    </BoxContainer>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}